define("turingMachine",["exports"],function(a){function b(){this.init=function(a,b,c){this.name="turingMachine",this.id=a,this.eventManager=b;var d='<style>.zyante-bold{font-family:HelveticaNeue-Light,"Helvetica Neue Light","Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif;font-weight:300}.zyante-section-bold{font-family:Helvetica;font-weight:300}.turingMachine{font-size:14px;width:700px}.turingMachine .button-margin{margin-left:20px}.turingMachine .clear-both{clear:both}.turingMachine .explanation{color:#000;font-size:16px;margin-left:10px;margin-top:20px}.turingMachine .highlighted{background-color:#f3d47c}.turingMachine .inline-block{display:inline-block}.turingMachine .reset-button{float:right}.turingMachine .start-stop-button-region{width:75px}.turingMachine .state-and-tape{border-collapse:collapse;font-size:16px;font-weight:700;height:30px;line-height:30px;margin-top:20px}.turingMachine .state-and-tape .arrow-tr{height:35px}.turingMachine .state-and-tape td{text-align:center;width:50px}.turingMachine .state-and-tape .state-or-symbol-tr .symbolTapeLabel{font-size:18px;width:150px}.turingMachine .state-and-tape .state-or-symbol-tr td{border:2px solid #000;border-collapse:collapse;height:36px}.turingMachine .state-and-tape .state-or-symbol-tr td.empty-cell{border-bottom:0 none;border-left:0 none;border-top:0 none}.turingMachine table tr td.q-0{color:#f93}.turingMachine table tr td.q-first{color:#192}.turingMachine table tr td.q-even{color:#5bf}.turingMachine table tr td.q-odd{color:#0c9}.turingMachine table tr td.q-ret{color:#9964ff}.turingMachine table tr td.q-acc{color:#000}.turingMachine table tr td.q-rej{color:#000}.turingMachine .symbol-colored.symbol-a{color:#00f}.turingMachine .symbol-colored.symbol-x{color:#e80000}.turingMachine .symbol-colored.symbol-asterix{color:#000}.turingMachine .table-header{float:left;margin-top:25px}.turingMachine .table-header .table{text-align:center}.turingMachine .table-header .table .state-or-symbol{font-weight:700}</style>';this.tapeSymbolIndex=[1,2,3,4,5,6,7,8,9,10];var e=this[this.name].turingMachine({id:this.id,tapeSymbolIndex:this.tapeSymbolIndex});$("#"+this.id).html(d+e),this.$startButton=$("#start-button-"+this.id),this.$stopButton=$("#stop-button-"+this.id),this.$modifyTapeButton=$("#modify-tape-button-"+this.id),this.$nextButton=$("#next-button-"+this.id),this.$resetButton=$("#reset-button-"+this.id),this.resetButtonClick();var f=this;this.$startButton.click(function(){f.startButtonClick()}),this.$stopButton.click(function(){f.stopButtonClick()}),this.$modifyTapeButton.click(function(){f.modifyTapeButtonClick()}),this.$nextButton.click(function(){f.nextButtonClick()}),this.$resetButton.click(function(){f.resetButtonClick()}),$("#"+this.id).click(function(){if(!f.hasBeenClicked){var a={part:0,complete:!0,answer:"turingMachine",metadata:{event:"turingMachine clicked"}};f.eventManager.postEvent(a),f.hasBeenClicked=!0}})};var a=1,b="**********",c={"q-0":{a:{state:"q-first",symbol:"*",direction:"R",explanation:"Change leftmost a to * to mark the left end of the string."},x:{state:"q-rej",symbol:"x",direction:"R",explanation:""},"*":{state:"q-rej",symbol:"*",direction:"R",explanation:""}},"q-first":{a:{state:"q-even",symbol:"x",direction:"R",explanation:"The second a is observed. Change a to an x."},x:{state:"q-first",symbol:"x",direction:"R",explanation:"Only the first a has been seen."},"*":{state:"q-acc",symbol:"*",direction:"R",explanation:"Only the first * remains. The number of a's was a power of two."}},"q-even":{a:{state:"q-odd",symbol:"a",direction:"R",explanation:"Now an odd number of a's have been seen."},x:{state:"q-even",symbol:"x",direction:"R",explanation:"An even number of a's have been seen."},"*":{state:"q-ret",symbol:"*",direction:"L",explanation:"End of string reached. An even number of a's have been seen. Continue and return head back to the beginning."}},"q-odd":{a:{state:"q-even",symbol:"x",direction:"R",explanation:"Now an even number of a's have been seen. Change every other a to an x."},x:{state:"q-odd",symbol:"x",direction:"R",explanation:"An odd number of a's have been seen."},"*":{state:"q-rej",symbol:"*",direction:"L",explanation:"String has an odd number of a's. Reject."}},"q-ret":{a:{state:"q-ret",symbol:"a",direction:"L",explanation:"Head returning to beginning of the string."},x:{state:"q-ret",symbol:"x",direction:"L",explanation:"Head returning to beginning of the string."},"*":{state:"q-first",symbol:"*",direction:"R",explanation:"Leftmost * counts as an a. Beginning of string reached. Start moving right again."}},"q-acc":{a:{state:"q-acc",symbol:"a",direction:"",explanation:"The Turing machine <i>accepts</i> on input string "},x:{state:"q-acc",symbol:"x",direction:"",explanation:"The Turing machine <i>accepts</i> on input string "},"*":{state:"q-acc",symbol:"*",direction:"",explanation:"The Turing machine <i>accepts</i> on input string "}},"q-rej":{a:{state:"q-rej",symbol:"a",direction:"",explanation:"The Turing machine <i>rejects</i> on input string "},x:{state:"q-rej",symbol:"x",direction:"",explanation:"The Turing machine <i>rejects</i> on input string "},"*":{state:"q-rej",symbol:"*",direction:"",explanation:"The Turing machine <i>rejects</i> on input string "}}},e={"q-0":"q <sub>0</sub>","q-first":"q <sub>first</sub>","q-even":"q <sub>even</sub>","q-odd":"q <sub>odd</sub>","q-ret":"q <sub>ret</sub>","q-acc":"q <sub>acc</sub>","q-rej":"q <sub>rej</sub>"},f={"q <sub>0</sub>":"q-0","q <sub>first</sub>":"q-first","q <sub>even</sub>":"q-even","q <sub>odd</sub>":"q-odd","q <sub>ret</sub>":"q-ret","q <sub>acc</sub>":"q-acc","q <sub>rej</sub>":"q-rej"};this.colorizeState=function(a,b){a.removeClass("q-0").removeClass("q-first").removeClass("q-even").removeClass("q-odd").removeClass("q-ret").removeClass("q-acc").removeClass("q-rej"),a.addClass(b)},this.highlightTransitionRuleBeingPointedTo=function(d){var e=$("#state-"+a+"-"+this.id),g=f[e.html().trim()],h=$("#tape-"+a+"-"+this.id),i=h.html().trim();if(d?$("#rule-"+g+"-"+i.replace(/\*/g,"asterix")+"-"+this.id).addClass("highlighted"):$("#rule-"+g+"-"+i.replace(/\*/g,"asterix")+"-"+this.id).removeClass("highlighted"),d){if($("#explanation-"+this.id).html(c[g][i].explanation),"q-acc"===g||"q-rej"===g){var j=b.indexOf("a"),k=b.substring(j,b.length-1),l=k.indexOf("*"),m=k.substring(0,l);$("#explanation-"+this.id).html($("#explanation-"+this.id).html()+m+".")}}else $("#explanation-"+this.id).html("")},this.replaceAndColorSymbol=function(a,b){var c=$("#tape-"+b+"-"+this.id);c.html(a),"a"===a?c.addClass("symbol-a").removeClass("symbol-x").removeClass("symbol-asterix"):"x"===a?c.addClass("symbol-x").removeClass("symbol-a").removeClass("symbol-asterix"):"*"===a&&c.addClass("symbol-asterix").removeClass("symbol-a").removeClass("symbol-x")},this.startButtonClick=function(){this.$startButton.hide(),this.$stopButton.show(),this.$modifyTapeButton.addClass("disabled"),this.$nextButton.removeClass("disabled");var c=$("#state-1-"+this.id);c.html("q <sub>0</sub></span>"),this.colorizeState(c,"q-0"),$("#statePntr-1-"+this.id).html("&darr;"),b="";for(var d=1;10>=d;d++){var e=$("#tape-"+d+"-"+this.id);b+=e.text(),e.addClass("symbol-colored"),this.replaceAndColorSymbol(e.text(),d)}a=1,this.highlightTransitionRuleBeingPointedTo(!0)},this.stopButtonClick=function(){this.$startButton.show(),this.$stopButton.hide(),this.$modifyTapeButton.removeClass("disabled"),this.$nextButton.addClass("disabled"),$("#explanation-"+this.id).html(""),this.highlightTransitionRuleBeingPointedTo(!1);for(var a=1;10>=a;a++){var c=$("#tape-"+a+"-"+this.id);c.text(b[a-1]),c.removeClass("symbol-colored");var d=$("#state-"+a+"-"+this.id);d.html("");var e=$("#statePntr-"+a+"-"+this.id);e.html("")}},this.modifyTapeButtonClick=function(){if(!this.$modifyTapeButton.hasClass("disabled")){var a=prompt("Enter the number of a's desired (between 1 and 8)."),b=parseInt(a);if(b>=1&&8>=b)for(var c=1;8>=c;c++){var d=$("#tape-"+c+"-"+this.id);b>=c?d.text("a"):d.text("*")}}},this.nextButtonClick=function(){if(!this.$nextButton.hasClass("disabled")){this.$nextButton.addClass("disabled");var b,d,g=$("#state-"+a+"-"+this.id),h=f[g.html().trim()],i=$("#tape-"+a+"-"+this.id),j=i.html().trim(),k=c[h][j],l=k.state,m=k.symbol,n=k.direction,o=a;g.animate({opacity:0}),i.animate({opacity:0});var p=this;$("#statePntr-"+o+"-"+this.id).animate({opacity:0},function(){p.highlightTransitionRuleBeingPointedTo(!1),g.html(""),$("#statePntr-"+o+"-"+p.id).html(""),p.replaceAndColorSymbol(m,o),"R"===n?a++:"L"===n&&a--,b=a,d=$("#state-"+b+"-"+p.id),d.html(e[l]),p.colorizeState(d,l),$("#statePntr-"+b+"-"+p.id).html("&darr;"),p.highlightTransitionRuleBeingPointedTo(!0),"q-acc"!==l&&"q-rej"!==l&&9>=b&&p.$nextButton.removeClass("disabled"),g.animate({opacity:1}),i.animate({opacity:1}),$("#statePntr-"+o+"-"+p.id).animate({opacity:1}),d.css("opacity","0.0").animate({opacity:1}),$("#statePntr-"+b+"-"+p.id).css("opacity","0.0").animate({opacity:1})})}},this.resetButtonClick=function(){b="aaaa******",this.stopButtonClick()},this.turingMachine=this.turingMachine||{},this.turingMachine.turingMachine=Handlebars.template({1:function(a,b,c,d,e,f,g){var h=a.lambda,i=a.escapeExpression;return'                <td id="state-'+i(h(b,b))+"-"+i(h(null!=g[1]?g[1].id:g[1],b))+'"></td>\n'},3:function(a,b,c,d,e,f,g){var h=a.lambda,i=a.escapeExpression;return'                <td id="statePntr-'+i(h(b,b))+"-"+i(h(null!=g[1]?g[1].id:g[1],b))+'"></td>\n'},5:function(a,b,c,d,e,f,g){var h=a.lambda,i=a.escapeExpression;return'                <td id="tape-'+i(h(b,b))+"-"+i(h(null!=g[1]?g[1].id:g[1],b))+'">*</td>\n'},compiler:[7,">= 4.0.0"],main:function(a,b,c,e,f,g,h){var i,j,k=null!=b?b:a.nullContext||{},l=c.helperMissing,m="function",n=a.escapeExpression;return'<div class="start-stop-button-region inline-block">\n    <button id="start-button-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'" class="button">Start</button>\n    <button id="stop-button-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'" class="button">Stop</button>\n</div>\n<button id="modify-tape-button-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'" class="button-margin button inline-block">Modify tape</button>\n<button id="next-button-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'" class="button-margin button inline-block">Next</button>\n<button id="reset-button-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'" class="reset-button button inline-block">Reset</button>\n<div class="clear-both"></div>\n\n<table class="state-and-tape">\n    <tbody>\n        <tr class="state-or-symbol-tr">\n            <td class="empty-cell"></td>\n'+(null!=(i=c.each.call(k,null!=b?b.tapeSymbolIndex:b,{name:"each",hash:{},fn:a.program(1,f,0,g,h),inverse:a.noop,data:f}))?i:"")+'        </tr>\n        <tr class="arrow-tr">\n            <td></td>\n'+(null!=(i=c.each.call(k,null!=b?b.tapeSymbolIndex:b,{name:"each",hash:{},fn:a.program(3,f,0,g,h),inverse:a.noop,data:f}))?i:"")+'        </tr>\n        <tr class="state-or-symbol-tr">\n            <td class="symbolTapeLabel">Symbol tape</td>\n'+(null!=(i=c.each.call(k,null!=b?b.tapeSymbolIndex:b,{name:"each",hash:{},fn:a.program(5,f,0,g,h),inverse:a.noop,data:f}))?i:"")+'        </tr>\n    </tbody>\n</table>\n\n<div class="table-header">\n    <span class="tablecap">Transition table for the Turing machine</span>\n    <div class="table">\n        <table>\n            <tbody>\n                <tr>\n                    <td class="state-or-symbol"></td>\n                    <td class="state-or-symbol symbol-colored symbol-a">a</td>\n                    <td class="state-or-symbol symbol-colored symbol-x">x</td>\n                    <td class="state-or-symbol symbol-colored symbol-asterix">*</td>\n                </tr>\n                <tr>\n                    <td class="state-or-symbol q-0">q <sub>0</sub></td>\n                    <td id="rule-q-0-a-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'">(q <sub>first</sub>, *, R)</td>\n                    <td id="rule-q-0-x-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'">(q <sub>rej</sub>, x, R)</td>\n                    <td id="rule-q-0-asterix-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'">(q <sub>rej</sub>, *, R)</td>\n                </tr>\n                <tr>\n                    <td class="state-or-symbol q-first">q <sub>first</sub></td>\n                    <td id="rule-q-first-a-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'">(q <sub>even</sub>, x, R)</td>\n                    <td id="rule-q-first-x-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'">(q <sub>first</sub>, x, R)</td>\n                    <td id="rule-q-first-asterix-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'">(q <sub>acc</sub>, *, R)</td>\n                </tr>\n                <tr>\n                    <td class="state-or-symbol q-even">q <sub>even</sub></td>\n                    <td id="rule-q-even-a-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'">(q <sub>odd</sub>, a, R)</td>\n                    <td id="rule-q-even-x-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'">(q<sub>even</sub>, x, R)</td>\n                    <td id="rule-q-even-asterix-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'">(q <sub>ret</sub>, *, L)</td>\n                </tr>\n                <tr>\n                    <td class="state-or-symbol q-odd">q<sub>odd</sub></td>\n                    <td id="rule-q-odd-a-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'">(q<sub>even</sub>, x, R)</td>\n                    <td id="rule-q-odd-x-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'">(q<sub>odd</sub>, x, R)</td>\n                    <td id="rule-q-odd-asterix-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'">(q <sub>rej</sub>, *, L)</td>\n                </tr>\n                <tr>\n                    <td class="state-or-symbol q-ret">q <sub>ret</sub></td>\n                    <td id="rule-q-ret-a-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'">(q <sub>ret</sub>, a, L)</td>\n                    <td id="rule-q-ret-x-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'">(q <sub>ret</sub>, x, L)</td>\n                    <td id="rule-q-ret-asterix-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'">(q <sub>first</sub>, *, R)</td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n<div id="explanation-'+n((j=null!=(j=c.id||(null!=b?b.id:b))?j:l,("undefined"==typeof j?"undefined":d(j))===m?j.call(k,{name:"id",hash:{},data:f}):j))+'" class="explanation"></div>\n<div class="clear-both"></div>'},useData:!0,useDepths:!0})}var c={},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e={create:function(){return new b}};c.exports=e,a["default"]=c.exports});