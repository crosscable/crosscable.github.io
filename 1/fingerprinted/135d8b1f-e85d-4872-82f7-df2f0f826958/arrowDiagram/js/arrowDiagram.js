define("arrowDiagram",["exports"],function(a){function b(a,b,c){this.fxValues=a,this.isOnto=b,this.isOneToOne=c}function c(){this.init=function(a,c,d){this.name="arrowDiagram",this.id=a,this.parentResource=c,this.progressionTool=require("progressionTool").create(),this.segmentedControlOnto=require("segmentedControl").create(),this.segmentedControlOneToOne=require("segmentedControl").create(),this.utilities=require("utilities");var e=this.utilities.getCheckmarkImageURL(c),f='<style>.zyante-bold{font-family:HelveticaNeue-Light,"Helvetica Neue Light","Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif;font-weight:300}.zyante-section-bold{font-family:Helvetica;font-weight:300}.arrowDiagram{max-width:722px;min-width:722px}.arrowDiagram .segment-button{width:86px}.arrowDiagram .main-block{height:480px;margin-bottom:16px;margin-top:4px}.arrowDiagram .main-block .instructions{font-size:15px}.arrowDiagram .add-arrows{background-color:#fff;display:inline-block;height:403px;margin-left:15px;margin-right:15px;opacity:.5;vertical-align:top;width:319px}.arrowDiagram .divider{background-color:#ccc;display:inline-block;height:100%;margin:7px;width:1px}.arrowDiagram .function-properties{background-color:#fff;display:inline-block;height:403px;margin-left:16px;opacity:.5;text-align:center;vertical-align:top;width:319px}.arrowDiagram .function-properties .instructions{margin-bottom:30px}.arrowDiagram .function-properties .x-mark{color:#bb0404;display:none;font-size:18px;left:42px;position:absolute;top:5px}.arrowDiagram .function-properties .checkmark{display:none;left:34px;position:absolute;top:4px}.arrowDiagram .function-properties .onto,.arrowDiagram .function-properties .one-to-one{position:relative}.arrowDiagram .instructions{color:#5780a6;font-size:12px;margin-bottom:0;margin-top:3px;text-align:center}.arrowDiagram .problem-definition{color:#5780a6;font-size:24px;margin-top:10px;max-height:70px;text-align:center;width:100%}.arrowDiagram .problem-definition .fraction{display:inline-block;width:30px}.arrowDiagram .problem-definition .fraction .numerator{border-bottom:2px solid #5780a6;margin-bottom:6px;padding-bottom:6px;width:auto}.arrowDiagram .problem-definition .function-map{display:inline-block;height:auto}.arrowDiagram .problem-definition .function{display:inline-block;max-height:67px;min-height:22px;vertical-align:middle}.arrowDiagram .problem-definition .ceil-fraction{width:64px}.arrowDiagram .problem-definition .open-function{display:inline-block;height:51px;margin-right:10px;vertical-align:middle}.arrowDiagram .problem-definition .open-floor{border-bottom:2px solid #5780a6;border-left:2px solid #5780a6;display:inline-block;height:52px;margin-bottom:0;width:9px}.arrowDiagram .problem-definition .close-floor{border-bottom:2px solid #5780a6;border-right:2px solid #5780a6;display:inline-block;height:52px;margin-bottom:0;width:9px}.arrowDiagram .problem-definition .open-ceil{border-left:2px solid #5780a6;border-top:2px solid #5780a6;display:inline-block;height:52px;margin-bottom:0;width:9px}.arrowDiagram .problem-definition .close-ceil{border-right:2px solid #5780a6;border-top:2px solid #5780a6;display:inline-block;height:52px;margin-bottom:0;width:9px}.arrowDiagram .bold{font-weight:700}.arrowDiagram .buttons{top:527px;position:absolute;margin-top:0;text-align:center;width:360px}.arrowDiagram .buttons .button{margin:7px}.arrowDiagram .add-button{width:105px}.arrowDiagram .error-message{color:#bb0404;height:16px;text-align:center}.arrowDiagram .sets{position:relative;text-align:center;top:15px}.arrowDiagram .set-left{padding-right:25px}.arrowDiagram .set-left .label{left:2px;padding-right:5px;text-align:right}.arrowDiagram .set-left .point{left:29px}.arrowDiagram .set-left::before,.arrowDiagram .set-left::after{margin-left:38px}.arrowDiagram .set-right{padding-left:25px}.arrowDiagram .set-right .label{left:20px;padding-left:5px;text-align:left}.arrowDiagram .set-right .point{left:9px}.arrowDiagram .set-right::before,.arrowDiagram .set-right::after{margin-left:17px}.arrowDiagram .set{display:inline-block;text-align:left;vertical-align:top}.arrowDiagram .set .element{cursor:pointer;height:30px;margin:10px;padding:10px;position:relative;width:30px}.arrowDiagram .set .element .label{color:#5780a6;display:inline-block;font-size:20px;margin-top:6px;position:absolute;width:23px}.arrowDiagram .set .element .point{background-color:#5780a6;border-radius:100px;display:inline-block;height:12px;position:absolute;top:19px;width:12px}.arrowDiagram .set .element.highlighted-element{border:2px solid #c60;border-radius:100px}.arrowDiagram .set .element.highlighted-element .label{color:#c60}.arrowDiagram .set .element.highlighted-element .point{background-color:#c60}.arrowDiagram .set .element:last-child{margin-bottom:0}.arrowDiagram .set .hidden-element{visibility:hidden}.arrowDiagram .set::before,.arrowDiagram .set::after{content:"...";-ms-transform:rotate(90deg);-webkit-transform:rotate(90deg);transform:rotate(90deg);color:#5780a6;font-size:30px;letter-spacing:3px;position:absolute}.arrowDiagram .set::before{top:-9px}.arrowDiagram .set::after{margin-top:-15px}.arrowDiagram .has-hidden-element:before{top:52px}.arrowDiagram .set-label{color:#5780a6;display:inline-block;font-size:30px;margin-top:45%}.arrowDiagram .arrows{left:84px;position:absolute;top:0}.arrowDiagram .arrows .arrow{left:11px;position:absolute}.arrowDiagram .arrows .arrow .arrow-body{background:#c60;height:2px;position:absolute;top:-1px}.arrowDiagram .arrows .arrow .arrow-head{border-color:transparent #c60;border-style:solid;border-width:8px 0 8px 12px;height:0;margin:0;margin-left:-4px;margin-top:-8px;position:absolute;width:0}.arrowDiagram .arrows .straight-arrow .arrow-body{width:88px}.arrowDiagram .arrows .straight-arrow .arrow-head{left:88px}.arrowDiagram .arrows .arrow-down-1{transform:rotate(31deg);-webkit-transform:rotate(31deg);-ms-transform:rotate(31deg);-moz-transform:rotate(31deg);-o-transform:rotate(31deg)}.arrowDiagram .arrows .arrow-down-1 .arrow-body{width:106px}.arrowDiagram .arrows .arrow-down-1 .arrow-head{left:106px}.arrowDiagram .arrows .arrow-down-2{transform:rotate(50deg);-webkit-transform:rotate(50deg);-ms-transform:rotate(50deg);-moz-transform:rotate(50deg);-o-transform:rotate(50deg)}.arrowDiagram .arrows .arrow-down-2 .arrow-body{width:145px}.arrowDiagram .arrows .arrow-down-2 .arrow-head{left:145px}.arrowDiagram .arrows .arrow-down-3{transform:rotate(61deg);-webkit-transform:rotate(61deg);-ms-transform:rotate(61deg);-moz-transform:rotate(61deg);-o-transform:rotate(61deg)}.arrowDiagram .arrows .arrow-down-3 .arrow-body{width:194px}.arrowDiagram .arrows .arrow-down-3 .arrow-head{left:194px}.arrowDiagram .arrows .arrow-down-4{transform:rotate(67deg);-webkit-transform:rotate(67deg);-ms-transform:rotate(67deg);-moz-transform:rotate(67deg);-o-transform:rotate(67deg)}.arrowDiagram .arrows .arrow-down-4 .arrow-body{width:249px}.arrowDiagram .arrows .arrow-down-4 .arrow-head{left:249px}.arrowDiagram .arrows .arrow-up-1{transform:rotate(-31deg);-webkit-transform:rotate(-31deg);-ms-transform:rotate(-31deg);-moz-transform:rotate(-31deg);-o-transform:rotate(-31deg)}.arrowDiagram .arrows .arrow-up-1 .arrow-body{width:106px}.arrowDiagram .arrows .arrow-up-1 .arrow-head{left:106px}.arrowDiagram .arrows .arrow-up-2{transform:rotate(-50deg);-webkit-transform:rotate(-50deg);-ms-transform:rotate(-50deg);-moz-transform:rotate(-50deg);-o-transform:rotate(-50deg)}.arrowDiagram .arrows .arrow-up-2 .arrow-body{width:145px}.arrowDiagram .arrows .arrow-up-2 .arrow-head{left:145px}.arrowDiagram .arrows .arrow-up-3{transform:rotate(-61deg);-webkit-transform:rotate(-61deg);-ms-transform:rotate(-61deg);-moz-transform:rotate(-61deg);-o-transform:rotate(-61deg)}.arrowDiagram .arrows .arrow-up-3 .arrow-body{width:194px}.arrowDiagram .arrows .arrow-up-3 .arrow-head{left:194px}.arrowDiagram .arrows .arrow-up-4{transform:rotate(-67deg);-webkit-transform:rotate(-67deg);-ms-transform:rotate(-67deg);-moz-transform:rotate(-67deg);-o-transform:rotate(-67deg)}.arrowDiagram .arrows .arrow-up-4 .arrow-body{width:249px}.arrowDiagram .arrows .arrow-up-4 .arrow-head{left:249px}.arrowDiagram .arrows .arrow-from-0{top:36px}.arrowDiagram .arrows .arrow-from-1{top:96px}.arrowDiagram .arrows .arrow-from-2{top:156px}.arrowDiagram .arrows .arrow-from-3{top:216px}.arrowDiagram .arrows .arrow-from-4{top:276px}.arrowDiagram .arrows .arrow-from-5{top:336px}.arrowDiagram .arrows .arrow.user-incorrect-arrow .arrow-body{background-color:#fa2b2b}.arrowDiagram .arrows .arrow.user-incorrect-arrow .arrow-head{border-color:transparent #fa2b2b}.arrowDiagram .arrows .arrow.user-correct-arrow .arrow-body{background-color:#adbe5b}.arrowDiagram .arrows .arrow.user-correct-arrow .arrow-head{border-color:transparent #adbe5b}.arrowDiagram .arrows .arrow.expected-arrow .arrow-body{background:0 0;border-top:4px dashed #adbe5b;top:-2px}.arrowDiagram .arrows .arrow.expected-arrow .arrow-head{border-color:transparent #adbe5b}.arrowDiagram .arrows .arrow.user-incorrect-arrow .arrow-body,.arrowDiagram .arrows .arrow.user-correct-arrow .arrow-body{height:4px;top:-2px}.arrowDiagram .focused.set .element .label{color:#c60}.arrowDiagram .focused.set .element .point{background-color:#c60}.arrowDiagram .disabled.arrow .arrow-body{background-color:#5780a6}.arrowDiagram .disabled.arrow .arrow-head{border-color:transparent #5780a6}.arrowDiagram .disabled .element{cursor:default}</style>',g=this[this.name].arrowDiagram({id:this.id,checkmarkURL:e});this.arrowTemplate=this[this.name].arrow,this.floorOrCeilProblemTemplate=this[this.name].floorOrCeilProblem;var h=this;this.progressionTool.init(this.id,this.parentResource,{html:g,css:f,numToWin:6,useMultipleParts:!0,start:function(){h.makeLevel(0),h.focusPart(h.$partA)},reset:function(){h.resetLevel(),h.makeLevel(0),h.removeFocus()},next:function(a){h.utilities.disableButton(h.$undoButton),h.$oneToOneCheckmark.hide(),h.$ontoCheckmark.hide(),h.$oneToOneXMark.hide(),h.$ontoXMark.hide(),h.isInCheckMode=!1,h.undoAddArrowStack.length>0&&h.utilities.enableButton(h.$undoButton),h.userAddedArrows&&(h.segmentedControlOneToOne.enable(),h.segmentedControlOnto.enable()),h.userAddedArrows&&h.userSelectedProperties&&(h.focusPart(h.$partA),h.unfocusPart(h.$partB),h.segmentedControlOnto.disable(),h.segmentedControlOneToOne.disable(),h.makeLevel(a),h.resetUndoButton(),h.segmentedControlOnto.deselectSegments(),h.segmentedControlOneToOne.deselectSegments())},isCorrect:function(a){h.isInCheckMode=!0,h.segmentedControlOneToOne.disable(),h.segmentedControlOnto.disable(),h.utilities.disableButton(h.$undoButton),h.explanationMessage="";var c=h.determineArrowIndices(),d=0===h.segmentedControlOnto.getSelectedSegmentIndex(),e=0===h.segmentedControlOneToOne.getSelectedSegmentIndex(),f="",g=h.checkAllArrowsAdded();return g&&(g=h.checkFunctionPropertiesSelected()),g&&(h.focusPart(h.$partA),h.focusPart(h.$partB),h.generateExpectedArrows(h.$arrows),g=h.checkArrowsAreCorrect(c)),g&&(g=h.checkFunctionPropertiesAreCorrect(d,e)),f=g?"Correct.":h.explanationMessage,{explanationMessage:f,userAnswer:JSON.stringify(new b(c,d,e)),expectedAnswer:JSON.stringify(new b(h.expectedArrowIndices,h.isAnswerOnto,h.isAnswerOneToOne)),isCorrect:g}}}),this.segmentedControlOnto.init(["onto","not onto"],"segmented-control-onto-"+this.id),this.segmentedControlOneToOne.init(["one-to-one","not one-to-one"],"segmented-control-one-to-one-"+this.id);var i=$("#"+this.id);this.$function=i.find(".function"),this.$undoButton=i.find(".undo-button"),this.$domain=i.find(".domain"),this.$range=i.find(".range"),this.$arrows=i.find(".arrows"),this.$ontoXMark=i.find(".onto .x-mark"),this.$ontoCheckmark=i.find(".onto .checkmark"),this.$oneToOneXMark=i.find(".one-to-one .x-mark"),this.$oneToOneCheckmark=i.find(".one-to-one .checkmark"),this.$partA=i.find(".add-arrows"),this.$partB=i.find(".function-properties"),this.undoAddArrowStack=[],this.linerNumberToAdd=this.utilities.getCarousel([1,2,3,4,5]),this.offsetCarousel=this.utilities.getCarousel([0,1,2]),this.numberFloorCeilDivisorCarousel=this.utilities.getCarousel([2,3,4]),this.specialNumberToAdd=this.utilities.getCarousel([-2,-1,1,2]),this.OneToOneExplanation="",this.OntoExplanation="",this.isInCheckMode=!1,this.$undoButton.click(function(){var a=h.undoAddArrowStack.pop();a.remove(),0===h.undoAddArrowStack.length&&h.utilities.disableButton($(this)),h.focusNextDot(),h.focusPart(h.$partA),h.unfocusPart(h.$partB),h.segmentedControlOneToOne.disable(),h.segmentedControlOnto.disable()}),this.resetLevel(),this.makeLevel(0),h.removeFocus()},this.checkAllArrowsAdded=function(){var a=0===$("#"+this.id+" .highlighted-element").length;return a?this.userAddedArrows=!0:(this.userAddedArrows=!1,this.explanationMessage="Complete A then B."),a},this.checkFunctionPropertiesSelected=function(){var a=null!==this.segmentedControlOnto.getSelectedSegmentIndex()&&null!==this.segmentedControlOneToOne.getSelectedSegmentIndex();return a?this.userSelectedProperties=!0:(this.userSelectedProperties=!1,this.explanationMessage="Complete B."),a},this.checkArrowsAreCorrect=function(a){var b=!0,c="See arrows above. Dashed arrow is a corrected answer.";return this.expectedArrowIndices.forEach(function(d,e){(d[0]!==a[e][0]||d[1]!==a[e][1])&&(b=!1,this.explanationMessage=c)}),b||(this.explanationMessage=c),b},this.checkFunctionPropertiesAreCorrect=function(a,b){var c=!0;return a!==this.isAnswerOnto?(this.$ontoXMark.show(),this.explanationMessage+="  "+this.OntoExplanation,c=!1):this.$ontoCheckmark.show(),b!==this.isAnswerOneToOne?(this.$oneToOneXMark.show(),this.explanationMessage+="  "+this.OneToOneExplanation,c=!1):this.$oneToOneCheckmark.show(),c},this.resetLevel=function(){this.clearGraph(),this.resetUndoButton(),this.segmentedControlOneToOne.deselectSegments(),this.segmentedControlOnto.deselectSegments(),this.segmentedControlOneToOne.disable(),this.segmentedControlOnto.disable(),this.utilities.disableButton(this.$undoButton),this.$ontoXMark.hide(),this.$ontoCheckmark.hide(),this.$oneToOneXMark.hide(),this.$oneToOneCheckmark.hide(),this.$partA.css("opacity",.5),this.$partB.css("opacity",.5)},this.resetUndoButton=function(){this.undoAddArrowStack=[],this.utilities.disableButton(this.$undoButton)},this.removeFocus=function(){$("#"+this.id+" .highlighted-element").removeClass("highlighted-element"),$("#"+this.id+" .focused").addClass("disabled"),$("#"+this.id+" .focused").removeClass("focused")},this.focusAndEnable=function(a){a.addClass("focused"),a.removeClass("disabled")},this.unfocusSet=function(a){a.removeClass("focused")},this.highlight=function(a){a.addClass("highlighted-element")},this.focusPart=function(a){a[0].style.transition=" opacity 0.5s linear",a[0].style.opacity="1"},this.unfocusPart=function(a){a[0].style.transition=" opacity 0.5s linear",a[0].style.opacity=".5"},this.focusNextDot=function(){var a=$("#"+this.id+" .hidden-element").length,b=this.$domain.children().length-a,c=this.determineArrowIndices(),d=c.length;b>d?(this.$domain.addClass("disabled"),$DOMelement=$(this.$domain.children()[d+a]),this.$domain.children().removeClass("highlighted-element"),this.focusAndEnable(this.$range),this.highlight($DOMelement)):(this.unfocusPart(this.$partA),this.focusPart(this.$partB),this.segmentedControlOnto.enable(),this.segmentedControlOneToOne.enable())},this.disableSets=function(){this.$domain.addClass("disabled"),this.$range.addClass("disabled")},this.clearDOMset=function(a){a.html("")},this.clearGraph=function(){this.$arrows.children().remove()},this.elementClickEvent=function(a){var b=a.parent();b.hasClass("disabled")||this.isInCheckMode||(this.unfocusSet(b),this.highlight(a),this.addUserArrow(this.$domain,this.$range,this.$arrows),this.focusNextDot())},this.findLastHighlightedElementIndex=function(a){var b;return a.children().each(function(a,c){$(c).hasClass("highlighted-element")&&(b=a)}),b},this.generateArrow=function(a,b,c){a.append(this.arrowTemplate());var d=this.getLastArrow(a);return this.styleArrow(d,b,c),d},this.determineDirectionClass=function(a,b){var c="";if(a===b)c="straight-arrow";else if(a>b){var d=a-b;c="arrow-up-"+d}else{var d=b-a;c="arrow-down-"+d}return c},this.styleArrow=function(a,b,c){a.addClass("arrow-from-"+b);var d=this.determineDirectionClass(b,c);a.addClass(d)},this.getLastArrow=function(a){return a.children().last()},this.addUserArrow=function(a,b,c){var d=this.findLastHighlightedElementIndex(a),e=this.findLastHighlightedElementIndex(b),f=this.generateArrow(c,d,e);this.undoAddArrowStack.push(f),this.utilities.enableButton(this.$undoButton),this.$domain.children().removeClass("highlighted-element"),this.$range.children().removeClass("highlighted-element"),this.disableSets()},this.generateExpectedArrows=function(a){var b=a.children().map(function(a,b){var c,d;return b.className.split(" ").forEach(function(a,b){a.indexOf("arrow-from")>-1&&(c=parseInt(a.charAt(a.length-1))),a.indexOf("arrow-up")>-1&&(distance=parseInt(a.charAt(a.length-1)),d=c-distance),a.indexOf("arrow-down")>-1&&(distance=parseInt(a.charAt(a.length-1)),d=c+distance),a.indexOf("straight-arrow")>-1&&(d=c)}),[[c,d]]}),c=this;this.expectedArrowIndices.forEach(function(d,e){if(d[1]===b[e][1])a.children().eq(e).addClass("user-correct-arrow");else{a.children().eq(e).addClass("user-incorrect-arrow");var f=c.generateArrow(a,d[0],d[1]);f.addClass("expected-arrow")}})},this.determineArrowIndices=function(){var a=[];return this.$arrows.children().each(function(b,c){var d,e=c.className.split(" "),f=parseInt(e[1].slice(-1)),g=parseInt(e[2].slice(-1)),h=e[2].slice(6);d="u"===h[0]?f-g:"d"===h[0]?f+g:f,$(c).hasClass("expected-arrow")||a.push([f,d])}),a.sort(),a},this.drawPartialGraph=function(a,b){for(var c=0;c<a.length-1;c++){var d=a[c][0],e=a[c][1],f=this.generateArrow(b,d,e);f.addClass("disabled"),b.append(f)}},this.populateSet=function(a,b,c,d){if(this.clearDOMset(a),d){var e=$("<div>");e.addClass("element"),e.addClass("hidden-element"),a.addClass("has-hidden-element"),a.append(e)}else a.removeClass("has-hidden-element");var f=this;b.forEach(function(b){var d=$("<div>"),e=$("<div>"),g=$("<div>");d.addClass("element"),e.html(b),e.addClass("label"),g.addClass("point"),c?(d.append(g),d.append(e)):(d.append(e),d.append(g)),d.click(function(){f.elementClickEvent($(this))}),a.append(d)})},this.populateSets=function(a,b,c,d,e){var f=!1;this.populateSet(a,b,f,e),f=!0,this.populateSet(c,d,f),this.disableSets()},this.generateTwoSets=function(a,b,c){for(var d=[],e=this.utilities.pickNumberInRange(-2,2),f=0;4>f;f++)d.push(f+e);"- "===a&&(b*=-1);for(var g=[],f=0;6>f;f++)g.push(f+e+b-c);return[d,g]},this.makeLinearQuestion=function(){var a=this.utilities.flipCoin()?"+ ":"- ",b=this.linerNumberToAdd.getValue();this.$function.html(" x "+a+b);var c=this.offsetCarousel.getValue(),d=this.generateTwoSets(a,b,c),e=d[0],f=d[1],g=!0;this.populateSets(this.$domain,e,this.$range,f,g),c--;var h=e.map(function(a,b){return[b+1,b+1+c]});return this.isAnswerOnto=!0,this.isAnswerOneToOne=!0,this.OneToOneExplanation="f(x) is one-to-one: If x ≠ y, then x "+a+b+" ≠ y "+a+b+".",+this.utilities.getNewline(),this.OntoExplanation="f(x) is onto: For every y, there is an integer x such that x "+a+b+" = y."+this.utilities.getNewline(),h},this.findAbsoluteValueContradictionElements=function(a,b){var c;return"+ "===a?c=0:"- "===a&&(c=-1*(b+1)),c},this.generateSetsForAbsoluteValueFunction=function(a){for(var b=[-2,-1,0,1,2],c=[],d=0;5>d;d++)c.push(d+a);return[b,c]},this.makeAbsoluteValueQuestion=function(){var a=this.specialNumberToAdd.getValue(),b=a>0?"+ ":"- ";a=Math.abs(a);var c=this.findAbsoluteValueContradictionElements(b,a);this.$function.html(" |x| "+b+a);var d=this.generateSetsForAbsoluteValueFunction(c),e=d[0],f=d[1];this.populateSets(this.$domain,e,this.$range,f);var g=e.map(function(c,d){var e;return"+ "===b?e=f.indexOf(Math.abs(c)+a):"- "===b&&(e=f.indexOf(Math.abs(c)-a)),[d,e]}).filter(function(a){return-1!==a[1]});this.isAnswerOnto=!1,this.isAnswerOneToOne=!1;var h="+ "===b?Math.abs(2)+a:Math.abs(2)-a;return this.OneToOneExplanation="f(x) is not one-to-one: f(-2) = f(2) = "+h+"."+this.utilities.getNewline(),this.OntoExplanation="f(x) is not onto: There is no value of x such that f(x) maps to "+c+this.utilities.getNewline(),g},this.removeDuplicates=function(a){for(var b=[],c=0;c<a.length;c++)-1===b.indexOf(a[c])&&b.push(a[c]);return b},this.padSet=function(a,b){for(var c=a.length,d=this.utilities.flipCoin(),e=0;b-c>e;e++)if(d){var f=a[a.length-1],g=f+1;a.push(g)}else{var h=a[0],g=h-1;a.unshift(g)}return a},this.generateFloorCeilSets=function(a,b,c){var d=[],e=[],f=this.utilities.pickNumberInRange(0,8);4==a&&("floor"==c?f=3:"ceil"==c&&(f=4));for(var g=0;6>g;g++)d.push(g+f),"floor"===c?e.push(Math.floor((g+f)/a)):"ceil"===c&&e.push(Math.ceil((g+f+b)/a));return e=this.removeDuplicates(e),e=this.padSet(e,6),[d,e]},this.findFloorOrCeilContradictionElements=function(a,b,c,d){var e,f=a[0];return a.forEach(function(a){"floor"===d?Math.floor(f/b)===Math.floor(a/b)&&f!==a?e=a:isNaN(e)&&(f=a):"ceil"===d&&(Math.ceil((f+c)/b)===Math.ceil((a+c)/b)&&f!==a?e=a:isNaN(e)&&(f=a))}),[f,e]},this.makeFloorCeilQuestion=function(a){var b=this.numberFloorCeilDivisorCarousel.getValue(),c=this.specialNumberToAdd.getValue();adderString=" + "+c,0>c&&(adderString=" - "+-1*c);var d=[];"floor"===a?(this.$function.html(this.floorOrCeilProblemTemplate({floorOrCeil:"floor",numerator:"x",denominator:b})),d=this.generateFloorCeilSets(b,c,"floor")):"ceil"===a&&(this.$function.html(this.floorOrCeilProblemTemplate({floorOrCeil:"ceil",numerator:"x"+adderString,denominator:b})),d=this.generateFloorCeilSets(b,c,"ceil"));var e=d[0],f=d[1];this.populateSets(this.$domain,e,this.$range,f);var g=e.map(function(d,e){var g;return"floor"===a?g=f.indexOf(Math.floor(d/b)):"ceil"===a&&(g=f.indexOf(Math.ceil((d+c)/b))),[e,g]}).filter(function(a){return-1!==a[1]});this.isAnswerOnto=!0,this.isAnswerOneToOne=!1;var h=this.findFloorOrCeilContradictionElements(e,b,c,a),i="floor"===a?Math.floor(h[0]/b):Math.ceil((h[0]+c)/b);return this.OneToOneExplanation="f(x) is not one-to-one: f("+h[0]+") = f("+h[1]+") = "+i+"."+this.utilities.getNewline(),this.OntoExplanation="f(x) is onto: For every y, there is an x such that f(x)=y."+this.utilities.getNewline(),g},this.makeLevel=function(a){var b;switch(this.clearGraph(),a){case 0:b=this.makeLinearQuestion(),this.focusNextDot();break;case 1:b=this.makeLinearQuestion(),this.focusNextDot();break;case 2:b=this.makeAbsoluteValueQuestion(),this.focusNextDot();break;case 3:b=this.makeAbsoluteValueQuestion(),this.focusNextDot();break;case 4:$(".arrowDiagram .buttons")[0].style.top="566px",b=this.makeFloorCeilQuestion("floor"),this.focusNextDot();break;case 5:b=this.makeFloorCeilQuestion("ceil"),this.focusNextDot()}this.expectedArrowIndices=b},this.reset=function(){this.progressionTool.reset()},this.arrowDiagram=this.arrowDiagram||{},this.arrowDiagram.arrow=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return"<div class='arrow'>\n    <div class='arrow-head'></div>\n    <div class='arrow-body'></div>\n</div>\n"},useData:!0}),this.arrowDiagram.arrowDiagram=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,f){var g,h=null!=b?b:a.nullContext||{},i=c.helperMissing,j="function",k=a.escapeExpression;return"<div class='problem-definition'>\n    <div class='function-map'>\n        <span class='bold'>Z</span> → <span class='bold'>Z</span>: f(x) =\n    </div>\n    <div class='function'>\n    </div>\n</div>\n\n<div class='main-block'>\n    <div class='add-arrows'>\n        <div class='instructions'><span class='bold'>A.</span> Select the element in f(x) that corresponds to the circled x.</div>\n\n        <div class='sets'>\n            <div class='arrows'></div>\n\n            <div class='domain-label set-label'>x</div>\n            <div class='domain set set-left'></div>\n            <div class='range set set-right'></div>\n            <div class='range-label set-label'>f(x)</div>\n        </div>\n    </div>\n    <div class='buttons'>\n        <button class='undo-button button disabled'>Undo</button>\n    </div>\n    <div class='divider'></div>\n    <div class='function-properties'>\n        <div class='instructions'><span class='bold'>B.</span> Select the properties that describe f(x).</div>\n        <div class='onto'>\n            <span class='x-mark'>&#x2716;</span>\n            <img class='checkmark' src='"+k((g=null!=(g=c.checkmarkURL||(null!=b?b.checkmarkURL:b))?g:i,("undefined"==typeof g?"undefined":e(g))===j?g.call(h,{name:"checkmarkURL",hash:{},data:f}):g))+"'></img>\n            <div id='segmented-control-onto-"+k((g=null!=(g=c.id||(null!=b?b.id:b))?g:i,("undefined"==typeof g?"undefined":e(g))===j?g.call(h,{name:"id",hash:{},data:f}):g))+"' class='true-or-false-segmented-control'></div>\n        </div>\n        <div class='one-to-one'>\n            <span class='x-mark'>&#x2716;</span>\n            <img class='checkmark' src='"+k((g=null!=(g=c.checkmarkURL||(null!=b?b.checkmarkURL:b))?g:i,("undefined"==typeof g?"undefined":e(g))===j?g.call(h,{name:"checkmarkURL",hash:{},data:f}):g))+"'></img>\n            <div id='segmented-control-one-to-one-"+k((g=null!=(g=c.id||(null!=b?b.id:b))?g:i,("undefined"==typeof g?"undefined":e(g))===j?g.call(h,{name:"id",hash:{},data:f}):g))+"' class='true-or-false-segmented-control'></div>\n        </div>\n    </div>\n</div>\n"},useData:!0}),this.arrowDiagram.floorOrCeilProblem=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,f){var g,h=null!=b?b:a.nullContext||{},i=c.helperMissing,j="function",k=a.escapeExpression;return"<div class='open-function'></div>\n<div class='open-"+k((g=null!=(g=c.floorOrCeil||(null!=b?b.floorOrCeil:b))?g:i,("undefined"==typeof g?"undefined":e(g))===j?g.call(h,{name:"floorOrCeil",hash:{},data:f}):g))+"'></div>\n<div class='fraction "+k((g=null!=(g=c.floorOrCeil||(null!=b?b.floorOrCeil:b))?g:i,("undefined"==typeof g?"undefined":e(g))===j?g.call(h,{name:"floorOrCeil",hash:{},data:f}):g))+"-fraction'>\n    <div class='numerator'>"+k((g=null!=(g=c.numerator||(null!=b?b.numerator:b))?g:i,("undefined"==typeof g?"undefined":e(g))===j?g.call(h,{name:"numerator",hash:{},data:f}):g))+"</div>\n    <div class='denominator'>"+k((g=null!=(g=c.denominator||(null!=b?b.denominator:b))?g:i,("undefined"==typeof g?"undefined":e(g))===j?g.call(h,{name:"denominator",hash:{},data:f}):g))+"</div>\n</div>\n<div class='close-"+k((g=null!=(g=c.floorOrCeil||(null!=b?b.floorOrCeil:b))?g:i,("undefined"==typeof g?"undefined":e(g))===j?g.call(h,{name:"floorOrCeil",hash:{},data:f}):g))+"'></div>\n"},useData:!0})}var d={},e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f={create:function(){return new c},dependencies:{tools:["utilities","progressionTool","segmentedControl"]}};d.exports=f,a["default"]=d.exports});