define("quantifiedStatementTable",["exports"],function(a){function b(){this.init=function(a,b,c){this.name="quantifiedStatementTable",this.id=a,this.parentResource=b,this.expectedAnswer={usesExistential:!0,shouldTrueBeSelected:!0,instances:[]},this.utilities=require("utilities"),this.discreteMathUtilities=require("discreteMathUtilities"),this.progressionTool=require("progressionTool").create(),this.segmentedControl=require("segmentedControl").create(),this.checkmarkImageURL=this.utilities.getCheckmarkImageURL(b);var d=3,e='<style>.zyante-bold{font-family:HelveticaNeue-Light,"Helvetica Neue Light","Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif;font-weight:300}.zyante-section-bold{font-family:Helvetica;font-weight:300}.quantifiedStatementTable p.statement,.quantifiedStatementTable div.hint{color:#5780a6;text-align:center}.quantifiedStatementTable p.statement{font-size:24px}.quantifiedStatementTable div.hint{font-size:12px;margin-bottom:12px;margin-top:5px}.quantifiedStatementTable .x-mark-checkmark-arrow-annotation{height:36px;padding-right:10px;text-align:right;width:50px}.quantifiedStatementTable table.quantifier-container{margin:0 auto}.quantifiedStatementTable table.quantifier-container td{vertical-align:middle}.quantifiedStatementTable table.quantifier-container td ul.segmented-control{margin:0}.quantifiedStatementTable table.quantifier-container td:first-of-type,.quantifiedStatementTable table.quantifier-container td:last-of-type{height:36px;padding-right:10px;text-align:right;width:50px}.quantifiedStatementTable span.x-mark{color:#bb0404;font-size:18px;font-style:normal}.quantifiedStatementTable div.table-container div.table table{border:0}.quantifiedStatementTable div.table-container div.table table tr.selected{background-color:#5780a6;color:#fff}.quantifiedStatementTable div.table-container div.table table tr.selected:not(.clickable){background-color:#999}.quantifiedStatementTable div.table-container div.table table tr.clickable{cursor:pointer}.quantifiedStatementTable div.table-container div.table table tr:first-of-type th:first-of-type{font-size:12px}.quantifiedStatementTable div.table-container div.table table tr td:first-of-type,.quantifiedStatementTable div.table-container div.table table tr td:last-of-type{background:#fff;border:0}.quantifiedStatementTable div.table-container div.table table tr:not(:first-of-type) td:first-of-type,.quantifiedStatementTable div.table-container div.table table tr:not(:first-of-type) td:last-of-type{height:36px;padding-right:10px;text-align:right;width:50px}.quantifiedStatementTable div.table-container span.pointer-arrow{color:#5780a6;font-size:30px}</style>',f=this[this.name].quantifiedStatementTable({id:this.id,checkmarkURL:this.checkmarkImageURL,numberOfRowsInTable:d}),g=this;this.progressionTool.init(this.id,this.parentResource,{html:f,css:e,numToWin:8,useMultipleParts:!0,start:function(){g.makeLevel(0),g.enableInputs()},reset:function(){g.makeLevel(0),g.disableInputs()},next:function(a){g.makeLevel(a),g.enableInputs()},isCorrect:function i(a){g.disableInputs();var b,c={trueSelected:!0,falseSelected:!1,noneSelected:null},d=g.segmentedControl.getSelectedSegmentIndex();b=null===d?c.noneSelected:0===d?c.trueSelected:c.falseSelected;var e={shouldTrueBeSelected:b},f=e.shouldTrueBeSelected===g.expectedAnswer.shouldTrueBeSelected;f?g.$checkmarks.eq(0).show():g.$xMarks.eq(0).show();var h=!0,j=!1;e.instances=[],g.$table.find("tr").each(function(a){var b=$(this);if(a>0){e.instances.push(b.hasClass("selected"));var c=!0,d=e.instances[a-1],i=g.expectedAnswer.instances[a-1];d!==i&&(h=!1,c=!1),f&&(d?i?g.$checkmarks.eq(a).show():g.$xMarks.eq(a).show():i&&(g.$pointerArrows.eq(a-1).show(),j=!0))}});var i=f&&h,k="";return i?k="Correct.":f?(k="See above.",j&&(k+=" Arrow means instance should be selected.")):k=g.expectedAnswer.usesExistential?g.expectedAnswer.shouldTrueBeSelected?"At least one instance is an example, so the statement is true. "+g.utilities.getNewline()+g.expectedAnswer.explanation:"No instance is an example, so the statement is false.":g.expectedAnswer.shouldTrueBeSelected?"No instance is a counter-example, so the statement is true.":"At least one instance is a counter-example, so the statement is false."+g.utilities.getNewline()+g.expectedAnswer.explanation,{explanationMessage:k,userAnswer:JSON.stringify(e),expectedAnswer:JSON.stringify(g.expectedAnswer),isCorrect:i}}}),this.segmentedControl.init(["True","False"],"segmented-control-"+this.id,function(a){var b=0===a,c=g.expectedAnswer.alwaysShowHint,d=g.expectedAnswer.usesExistential;g.$hint.css("visibility","visible"),c||b===d||g.$hint.css("visibility","hidden")});var h=$("#"+this.id);this.$statement=h.find(".statement"),this.$tableContainer=h.find(".table"),this.$hint=h.find(".hint"),this.makeLevel(0),this.disableInputs()},this.rowClicked=function(a){$(this).toggleClass("selected")},this.selectAllButFirstRowInTable=function(){var a=$();return this.$table.find("tr").each(function(b){var c=$(this);b>0&&(a=a.add(c))}),a},this.enableInputs=function(){var a=this.selectAllButFirstRowInTable();a.addClass("clickable"),a.on("click",this.rowClicked),this.segmentedControl.enable()},this.disableInputs=function(){var a=this.selectAllButFirstRowInTable();a.removeClass("clickable"),a.off("click",this.rowClicked),this.segmentedControl.disable()},this.getTrueAndFalseInstances=function(a){var b=[],c=[],d=this;return["T","F"].forEach(function(e){["T","F"].forEach(function(f){["T","F"].forEach(function(g){["T","F"].forEach(function(h){var i=a;i=i.replace(d.predicates[0],e),i=i.replace(d.predicates[1],f),i=i.replace(d.predicates[2],g),i=i.replace(d.predicates[3],h);var j=[];j.push(e,f,g,h),d.discreteMathUtilities.evaluateProposition(i)?b.push(j):c.push(j)})})})}),{trueInstances:b,falseInstances:c}},this.generateInstancesAndStatement=function(a,b,c){var d=this.getTrueAndFalseInstances(a),e=d.trueInstances,f=d.falseInstances,g="",h=[],i=[],j=[],k=!1,l=!1,m=!1;if(b){g=this.discreteMathUtilities.existentialQuantifier+"x ("+a+")",h=this.utilities.pickElementFromArray(f);do i=this.utilities.pickElementFromArray(f);while(h===i);if(c)j=this.utilities.pickElementFromArray(e),m=!0;else do j=this.utilities.pickElementFromArray(f);while(j===h||j===i)}else{g=this.discreteMathUtilities.universalQuantifier+"x ("+a+")",h=this.utilities.pickElementFromArray(e);do i=this.utilities.pickElementFromArray(e);while(h===i);if(c){do j=this.utilities.pickElementFromArray(e);while(j===h||j===i)}else j=this.utilities.pickElementFromArray(f),m=!0}var n=[{instance:h,expectedAnswer:k},{instance:i,expectedAnswer:l},{instance:j,expectedAnswer:m}];return{instances:n,statement:g}},this.pickTwoPredicates=function(){var a,b=this.utilities.pickElementFromArray(this.predicates);do a=this.utilities.pickElementFromArray(this.predicates);while(b===a);return[b,a]},this.makeLevel=function(a){this.predicates=["A(x)","B(x)","C(x)","D(x)"];var b="";switch(a){case 0:case 1:case 2:case 3:case 4:case 5:var c=[this.discreteMathUtilities.andSymbol,this.discreteMathUtilities.orSymbol],d=this.utilities.pickElementFromArray(c),e=this.utilities.pickNElementsFromArray(this.predicates,2);b=e[0]+" "+d+" "+e[1];break;case 6:var d=this.discreteMathUtilities.conditionalSymbol,e=this.utilities.pickNElementsFromArray(this.predicates,2);b=e[0]+" "+d+" "+e[1];break;case 7:var c=[this.discreteMathUtilities.andSymbol,this.discreteMathUtilities.orSymbol,this.discreteMathUtilities.conditionalSymbol],f=this.utilities.pickNElementsFromArray(c,2),e=this.utilities.pickNElementsFromArray(this.predicates,3);b="("+e[0]+" "+f[0]+" "+e[1]+") "+f[1]+" "+e[2]}var g="Select an example (row in the table) that shows the expression is true.",h="Select a counter-example that shows the expression is false.",i="Select an example or counter-example if appropriate.",j=!0,k=!0;switch(a){case 0:this.$hint.text(g);break;case 1:this.$hint.text(g),k=!1;break;case 2:this.$hint.text(h),k=!1,j=!1;break;case 3:this.$hint.text(h),j=!1;break;case 4:this.$hint.text(i),j=this.utilities.flipCoin(),k=j;break;case 5:this.$hint.text(i),j=this.utilities.flipCoin(),k=!j;break;case 6:case 7:this.$hint.text(i),j=this.utilities.flipCoin(),k=j}var l=!0;4>a?(l=!1,this.$hint.css("visibility","hidden")):this.$hint.css("visibility","visible");var m=this.generateInstancesAndStatement(b,j,k),n=m.instances,o=m.statement;this.utilities.shuffleArray(n);var p=["Ann","Bob","Joe"],q="";if(j){var r=null;n.forEach(function(a,b){a.expectedAnswer&&(r=b)}),q=p[r]+" is an example: "+b+" = T."}else{var r=null;n.forEach(function(a,b){a.expectedAnswer||(r=b)}),q=p[r]+" is a counter-example: "+b+" = T."}this.expectedAnswer={usesExistential:j,shouldTrueBeSelected:k,instances:[n[0].expectedAnswer,n[1].expectedAnswer,n[2].expectedAnswer],explanation:q,alwaysShowHint:l};var s=this[this.name].tableTemplate({checkmarkURL:this.checkmarkImageURL,instances:[{name:p[0],values:n[0].instance},{name:p[1],values:n[1].instance},{name:p[2],values:n[2].instance}],predicates:this.predicates});this.$tableContainer.eq(0).html(s);var t=$("#"+this.id);this.$xMarks=t.find(".x-mark"),this.$checkmarks=t.find(".checkmark"),this.$pointerArrows=t.find(".pointer-arrow"),this.$statement.text(o),this.$table=this.$tableContainer.find("table"),this.segmentedControl.deselectSegments(),this.$xMarks.show().hide(),this.$checkmarks.show().hide(),this.$pointerArrows.show().hide()},this.reset=function(){this.progressionTool.reset()},this.quantifiedStatementTable=this.quantifiedStatementTable||{},this.quantifiedStatementTable.quantifiedStatementTable=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,e,f){var g,h=null!=b?b:a.nullContext||{},i=c.helperMissing,j="function",k=a.escapeExpression;return"<p class='statement'></p>\n<table class='quantifier-container'>\n    <tbody>\n        <tr>\n            <td>\n                <span class='x-mark'>&#x2716;</span>\n                <img class='checkmark' src='"+k((g=null!=(g=c.checkmarkURL||(null!=b?b.checkmarkURL:b))?g:i,("undefined"==typeof g?"undefined":d(g))===j?g.call(h,{name:"checkmarkURL",hash:{},data:f}):g))+"'></img>\n            </td>\n            <td>\n                <div id='segmented-control-"+k((g=null!=(g=c.id||(null!=b?b.id:b))?g:i,("undefined"==typeof g?"undefined":d(g))===j?g.call(h,{name:"id",hash:{},data:f}):g))+"' class='true-or-false-segmented-control'></div>\n            </td>\n            <td></td>\n        </tr>\n    </tbody>\n</table>\n<div class='hint'></div>\n<div class='table-container'>\n    <div class='table'></div>\n</div>"},useData:!0}),this.quantifiedStatementTable.tableTemplate=Handlebars.template({1:function(a,b,c,d,e){return"            <th>"+a.escapeExpression(a.lambda(b,b))+"</th>\n"},3:function(a,b,c,d,e,f,g){var h,i=a.lambda,j=a.escapeExpression;return"        <tr>\n            <td>\n                <span class='x-mark'>&#x2716;</span>\n                <img class='checkmark' src='"+j(i(null!=g[1]?g[1].checkmarkURL:g[1],b))+"'></img>\n                <span class='pointer-arrow'>&rarr;</span>\n            </td>\n            <td>"+j(i(null!=b?b.name:b,b))+"</td>\n"+(null!=(h=c.each.call(null!=b?b:a.nullContext||{},null!=b?b.values:b,{name:"each",hash:{},fn:a.program(4,e,0,f,g),inverse:a.noop,data:e}))?h:"")+"            <td></td>\n        </tr>\n"},4:function(a,b,c,d,e){return"                <td>"+a.escapeExpression(a.lambda(b,b))+"</td>\n"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e,f,g){var h,i=null!=b?b:a.nullContext||{};return"<table>\n    <tr>\n        <td></td>\n        <th>Names</th>\n"+(null!=(h=c.each.call(i,null!=b?b.predicates:b,{name:"each",hash:{},fn:a.program(1,e,0,f,g),inverse:a.noop,data:e}))?h:"")+"        <td></td>\n    </tr>\n    \n"+(null!=(h=c.each.call(i,null!=b?b.instances:b,{name:"each",hash:{},fn:a.program(3,e,0,f,g),inverse:a.noop,data:e}))?h:"")+"</table>"},useData:!0,useDepths:!0})}var c={},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e={create:function(){return new b},dependencies:{tools:["utilities","progressionTool","discreteMathUtilities","segmentedControl"]}};c.exports=e,a["default"]=c.exports});